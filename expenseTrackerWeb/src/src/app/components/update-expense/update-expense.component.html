<div>
    <div nz-row>
        <div nz-col [nzSpan]="24">
            <nz-card nzType="inner" style="margin-top: 16px;" [nzTitle]="titleTemplate">
                <ng-template #titleTemplate>
                    <div style="text-align: center;">Cập nhật chi phí</div>
                </ng-template>
                <form nz-form [formGroup]="expenseForm" class="custom-form" (ngSubmit)="submitForm()">
                    <nz-form-item>
                        <nz-form-control nzErrorTip="Vui lòng nhập số tiền!">
                            <input type="text" nz-input formControlName="amount" placeholder="Số tiền" />
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-control [nzErrorTip]="'Vui lòng chọn ngày!'">
                            <nz-date-picker 
                                style="width: 100%;" 
                                formControlName="date"
                                nzFormat="dd/MM/yyyy"
                                [nzPlaceHolder]="'Chọn ngày'"
                            ></nz-date-picker>
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-control>
                            <textarea nz-input placeholder="Mô tả" [nzAutosize]="{ minRows: 2, maxRows: 6 }"
                                formControlName="description"></textarea>
                        </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                        <nz-form-control nzErrorTip="Vui lòng chọn danh mục!">
                            <nz-select 
                                nzAllowClear 
                                nzShowSearch 
                                nzServerSearch
                                nzPlaceHolder="Nhập danh mục" 
                                formControlName="category"
                                (ngModelChange)="onCategoryChange($event)"
                                (nzOnSearch)="onCategorySearch($event)"
                                (keyup.enter)="onCategoryKeyEnter()"
                            >
                                <nz-option 
                                    *ngFor="let category of listOfCategory" 
                                    [nzLabel]="category" 
                                    [nzValue]="category"
                                >
                                    {{ category }}
                                </nz-option>
                            </nz-select>
                        </nz-form-control>
                    </nz-form-item>

                    <button nz-button nzType="primary" nzBlock [disabled]="expenseForm.invalid" class="w-100">
                        Cập nhật chi phí
                    </button>
                </form>
            </nz-card>
        </div>
    </div>
</div>
